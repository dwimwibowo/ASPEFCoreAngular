"use strict";(self.webpackChunkdutch_app=self.webpackChunkdutch_app||[]).push([["main"],{363:(s,u,c)=>{var d=c(313),t=c(367),p=c(181),g=c(4),Z=c(489);class A{constructor(){this.orderDate=new Date,this.items=new Array}get subTotal(){return Z.sum(Z.map(this.items,o=>o.unitPrice*o.quantity))}}class T{}let n=(()=>{class e{constructor(r){this.http=r,this.products=[],this.order=new A}loadProducts(){return this.http.get("api/products").pipe((0,g.U)(r=>(this.products=r,!0)))}addToOrder(r){let i=this.order.items.find(l=>l.productId==r.id);i?i.quantity++:(i=new T,i.productId=r.id,i.productCategory=r.category,i.productSize=r.size,i.productTitle=r.title,i.productArtist=r.artist,i.productArtId=r.artId,i.unitPrice=r.price,i.quantity=1,this.order.items.push(i))}}return e.\u0275fac=function(r){return new(r||e)(t.LFG(p.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();var a=c(808);function h(e,o){if(1&e){const r=t.EpF();t.TgZ(0,"div",8),t.TgZ(1,"div",9),t._UZ(2,"img",10),t.TgZ(3,"div",3),t.TgZ(4,"h5",11),t._uU(5),t.qZA(),t.TgZ(6,"div",12),t.TgZ(7,"ul",13),t.TgZ(8,"li"),t.TgZ(9,"strong"),t._uU(10,"Price:"),t.qZA(),t._uU(11),t.ALo(12,"currency"),t.qZA(),t.TgZ(13,"li"),t.TgZ(14,"strong"),t._uU(15,"Artist:"),t.qZA(),t._uU(16),t.qZA(),t.TgZ(17,"li"),t.TgZ(18,"strong"),t._uU(19,"Title:"),t.qZA(),t._uU(20),t.qZA(),t.TgZ(21,"li"),t.TgZ(22,"strong"),t._uU(23,"Description:"),t.qZA(),t._uU(24),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"button",14),t.NdJ("click",function(){const U=t.CHM(r).$implicit;return t.oxw().addProduct(U)}),t._uU(26,"Buy"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&e){const r=o.$implicit;t.xp6(2),t.MGl("src","img/",r.artId,".jpg",t.LSH),t.Q6J("alt",r.title),t.xp6(3),t.AsE("",r.category," - ",r.size,""),t.xp6(6),t.hij(" ",t.Dn7(12,8,r.price,"USD",!0),""),t.xp6(5),t.hij(" ",r.artist,""),t.xp6(4),t.hij(" ",r.title,""),t.xp6(4),t.hij(" ",r.artDescription,"")}}let m=(()=>{class e{constructor(r){this.data=r,this.title="Product List",this.products=[]}ngOnInit(){this.data.loadProducts().subscribe(r=>{r&&(this.products=this.data.products)})}addProduct(r){this.data.addToOrder(r)}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(n))},e.\u0275cmp=t.Xpm({type:e,selectors:[["product-list"]],decls:9,vars:2,consts:[[1,"card","card-gray"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"container-fluid"],[1,"row"],["class","col",4,"ngFor","ngForOf"],[1,"card-footer"],[1,"col"],[1,"card",2,"width","18rem"],[1,"card-img-top",3,"src","alt"],[1,"card-title","text-bold"],[1,"card-text"],[1,"product-props","list-unstyled"],["id","buyButton",1,"btn","btn-success","float-right",3,"click"]],template:function(r,i){1&r&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h3",2),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"div",3),t.TgZ(5,"div",4),t.TgZ(6,"div",5),t.YNc(7,h,27,12,"div",6),t.qZA(),t.qZA(),t.qZA(),t._UZ(8,"div",7),t.qZA()),2&r&&(t.xp6(3),t.Oqu(i.title),t.xp6(4),t.Q6J("ngForOf",i.products))},directives:[a.sg],pipes:[a.H9],styles:[""]}),e})();function q(e,o){if(1&e&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",5),t._uU(4),t.qZA(),t.TgZ(5,"td",5),t._uU(6),t.ALo(7,"currency"),t.qZA(),t.TgZ(8,"td",5),t._uU(9),t.ALo(10,"currency"),t.qZA(),t.qZA()),2&e){const r=o.$implicit;t.xp6(2),t.AsE("",r.productCategory," - ",r.productTitle,""),t.xp6(2),t.Oqu(r.quantity),t.xp6(2),t.Oqu(t.Dn7(7,5,r.unitPrice,"USD",!0)),t.xp6(3),t.Oqu(t.Dn7(10,9,r.unitPrice*r.quantity,"USD",!0))}}let v=(()=>{class e{constructor(r){this.data=r,this.title="Cart"}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(n))},e.\u0275cmp=t.Xpm({type:e,selectors:[["cart-list"]],decls:28,vars:8,consts:[[1,"card","card-green"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"table","table-hover"],[1,"text-right"],[4,"ngFor","ngForOf"],[1,"card-footer"]],template:function(r,i){1&r&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h3",2),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"div",3),t.TgZ(5,"table",4),t.TgZ(6,"thead"),t.TgZ(7,"tr"),t.TgZ(8,"th"),t._uU(9,"Product"),t.qZA(),t.TgZ(10,"th",5),t._uU(11,"#"),t.qZA(),t.TgZ(12,"th",5),t._uU(13,"$"),t.qZA(),t.TgZ(14,"th",5),t._uU(15,"Total"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"tbody"),t.YNc(17,q,11,13,"tr",6),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",7),t.TgZ(19,"div"),t.TgZ(20,"strong"),t._uU(21,"# / Items:"),t.qZA(),t._uU(22),t.qZA(),t.TgZ(23,"div"),t.TgZ(24,"strong"),t._uU(25,"Sub Total:"),t.qZA(),t._uU(26),t.ALo(27,"currency"),t.qZA(),t.qZA(),t.qZA()),2&r&&(t.xp6(3),t.Oqu(i.title),t.xp6(14),t.Q6J("ngForOf",i.data.order.items),t.xp6(5),t.hij(" ",i.data.order.items.length,""),t.xp6(4),t.hij(" ",t.Dn7(27,4,i.data.order.subTotal,"USD",!0),""))},directives:[a.sg],pipes:[a.H9],encapsulation:2}),e})(),_=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["the-shop"]],decls:5,vars:0,consts:[[1,"row"],[1,"col-md-9"],[1,"col-md-3"]],template:function(r,i){1&r&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._UZ(2,"product-list"),t.qZA(),t.TgZ(3,"div",2),t._UZ(4,"cart-list"),t.qZA(),t.qZA())},directives:[m,v],encapsulation:2}),e})(),f=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e,bootstrap:[_]}),e.\u0275inj=t.cJS({providers:[n],imports:[[d.b2,p.JF]]}),e})();(0,t.G48)(),d.q6().bootstrapModule(f).catch(e=>console.error(e))}},s=>{s.O(0,["vendor"],()=>s(s.s=363)),s.O()}]);