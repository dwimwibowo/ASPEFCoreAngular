"use strict";(self.webpackChunkdutch_app=self.webpackChunkdutch_app||[]).push([["main"],{938:(a,p,i)=>{var n=i(313),t=i(223),l=i(520),s=i(783);let T=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["the-shop"]],decls:1,vars:0,template:function(r,o){1&r&&t._UZ(0,"router-outlet")},directives:[s.lC],encapsulation:2}),e})();var A=i(4),g=i(489);class h{constructor(){this.orderDate=new Date,this.items=new Array}get subTotal(){return g.sum(g.map(this.items,c=>c.unitPrice*c.quantity))}}class q{}let d=(()=>{class e{constructor(r){this.http=r,this.products=[],this.order=new h}loadProducts(){return this.http.get("api/products").pipe((0,A.U)(r=>(this.products=r,!0)))}addToOrder(r){let o=this.order.items.find(Z=>Z.productId==r.id);o?o.quantity++:(o=new q,o.productId=r.id,o.productCategory=r.category,o.productSize=r.size,o.productTitle=r.title,o.productArtist=r.artist,o.productArtId=r.artId,o.unitPrice=r.price,o.quantity=1,this.order.items.push(o))}}return e.\u0275fac=function(r){return new(r||e)(t.LFG(l.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();var u=i(808);function _(e,c){if(1&e){const r=t.EpF();t.TgZ(0,"div",8),t.TgZ(1,"div",9),t._UZ(2,"img",10),t.TgZ(3,"div",3),t.TgZ(4,"h5",11),t._uU(5),t.qZA(),t.TgZ(6,"div",12),t.TgZ(7,"ul",13),t.TgZ(8,"li"),t.TgZ(9,"strong"),t._uU(10,"Price:"),t.qZA(),t._uU(11),t.ALo(12,"currency"),t.qZA(),t.TgZ(13,"li"),t.TgZ(14,"strong"),t._uU(15,"Artist:"),t.qZA(),t._uU(16),t.qZA(),t.TgZ(17,"li"),t.TgZ(18,"strong"),t._uU(19,"Title:"),t.qZA(),t._uU(20),t.qZA(),t.TgZ(21,"li"),t.TgZ(22,"strong"),t._uU(23,"Description:"),t.qZA(),t._uU(24),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"button",14),t.NdJ("click",function(){const k=t.CHM(r).$implicit;return t.oxw().addProduct(k)}),t._uU(26,"Buy"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&e){const r=c.$implicit;t.xp6(2),t.MGl("src","img/",r.artId,".jpg",t.LSH),t.Q6J("alt",r.title),t.xp6(3),t.AsE("",r.category," - ",r.size,""),t.xp6(6),t.hij(" ",t.Dn7(12,8,r.price,"USD",!0),""),t.xp6(5),t.hij(" ",r.artist,""),t.xp6(4),t.hij(" ",r.title,""),t.xp6(4),t.hij(" ",r.artDescription,"")}}let m=(()=>{class e{constructor(r){this.data=r,this.title="Product List",this.products=[]}ngOnInit(){this.data.loadProducts().subscribe(r=>{r&&(this.products=this.data.products)})}addProduct(r){this.data.addToOrder(r)}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(d))},e.\u0275cmp=t.Xpm({type:e,selectors:[["product-list"]],decls:9,vars:2,consts:[[1,"card","card-gray"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"container-fluid"],[1,"row"],["class","col",4,"ngFor","ngForOf"],[1,"card-footer"],[1,"col"],[1,"card",2,"width","18rem"],[1,"card-img-top",3,"src","alt"],[1,"card-title","text-bold"],[1,"card-text"],[1,"product-props","list-unstyled"],["id","buyButton",1,"btn","btn-success","float-right",3,"click"]],template:function(r,o){1&r&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h3",2),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"div",3),t.TgZ(5,"div",4),t.TgZ(6,"div",5),t.YNc(7,_,27,12,"div",6),t.qZA(),t.qZA(),t.qZA(),t._UZ(8,"div",7),t.qZA()),2&r&&(t.xp6(3),t.Oqu(o.title),t.xp6(4),t.Q6J("ngForOf",o.products))},directives:[u.sg],pipes:[u.H9],styles:[""]}),e})();function f(e,c){if(1&e&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",8),t._uU(4),t.qZA(),t.TgZ(5,"td",9),t._uU(6),t.ALo(7,"currency"),t.qZA(),t.TgZ(8,"td",9),t._uU(9),t.ALo(10,"currency"),t.qZA(),t.qZA()),2&e){const r=c.$implicit;t.xp6(2),t.lnq("",r.productCategory,"(",r.productSize,") - ",r.productTitle,""),t.xp6(2),t.Oqu(r.quantity),t.xp6(2),t.Oqu(t.Dn7(7,6,r.unitPrice,"USD",!0)),t.xp6(3),t.Oqu(t.Dn7(10,10,r.unitPrice*r.quantity,"USD",!0))}}function v(e,c){if(1&e&&(t.TgZ(0,"div",6),t.TgZ(1,"table",7),t.TgZ(2,"thead"),t.TgZ(3,"tr"),t.TgZ(4,"th"),t._uU(5,"Product"),t.qZA(),t.TgZ(6,"th",8),t._uU(7,"#"),t.qZA(),t.TgZ(8,"th",9),t._uU(9,"$"),t.qZA(),t.TgZ(10,"th",9),t._uU(11,"Total"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"tbody"),t.YNc(13,f,11,14,"tr",10),t.qZA(),t.qZA(),t.qZA()),2&e){const r=t.oxw();t.xp6(13),t.Q6J("ngForOf",r.data.order.items)}}function U(e,c){1&e&&(t.TgZ(0,"a",11),t._uU(1,"Checkout"),t.qZA())}let y=(()=>{class e{constructor(r){this.data=r,this.title="Cart"}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(d))},e.\u0275cmp=t.Xpm({type:e,selectors:[["cart-list"]],decls:16,vars:9,consts:[[1,"card","card-fuchsia"],[1,"card-header"],[1,"card-title"],["class","card-body",4,"ngIf"],[1,"card-footer"],["routerLink","checkout","class","btn btn-success float-right",4,"ngIf"],[1,"card-body"],[1,"table","table-hover","p-0"],[1,"text-center"],[1,"text-right"],[4,"ngFor","ngForOf"],["routerLink","checkout",1,"btn","btn-success","float-right"]],template:function(r,o){1&r&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h3",2),t._uU(3),t.qZA(),t.qZA(),t.YNc(4,v,14,1,"div",3),t.TgZ(5,"div",4),t.TgZ(6,"div"),t.TgZ(7,"strong"),t._uU(8,"# / Items:"),t.qZA(),t._uU(9),t.YNc(10,U,2,0,"a",5),t.qZA(),t.TgZ(11,"div"),t.TgZ(12,"strong"),t._uU(13,"Sub Total:"),t.qZA(),t._uU(14),t.ALo(15,"currency"),t.qZA(),t.qZA(),t.qZA()),2&r&&(t.xp6(3),t.Oqu(o.title),t.xp6(1),t.Q6J("ngIf",o.data.order.items.length>0),t.xp6(5),t.hij(" ",o.data.order.items.length," "),t.xp6(1),t.Q6J("ngIf",o.data.order.items.length>0),t.xp6(4),t.hij(" ",t.Dn7(15,5,o.data.order.subTotal,"USD",!0),""))},directives:[u.O5,u.sg,s.yS],pipes:[u.H9],encapsulation:2}),e})();function x(e,c){if(1&e&&(t.TgZ(0,"tr"),t.TgZ(1,"td",5),t._UZ(2,"img",14),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",5),t._uU(6),t.qZA(),t.TgZ(7,"td",6),t._uU(8),t.ALo(9,"currency"),t.qZA(),t.TgZ(10,"td",6),t._uU(11),t.ALo(12,"currency"),t.qZA(),t.qZA()),2&e){const r=c.$implicit;t.xp6(2),t.MGl("src","/img/",r.productArtId,".jpg",t.LSH),t.xp6(2),t.HOy("",r.productCategory,"(",r.productSize,") - ",r.productArtist,": ",r.productTitle,""),t.xp6(2),t.Oqu(r.quantity),t.xp6(2),t.Oqu(t.Dn7(9,8,r.unitPrice,"USD",!0)),t.xp6(3),t.Oqu(t.Dn7(12,12,r.unitPrice*r.quantity,"USD",!0))}}let C=[{path:"",component:(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["the-shop"]],decls:5,vars:0,consts:[[1,"row"],[1,"col-md-9"],[1,"col-md-3"]],template:function(r,o){1&r&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._UZ(2,"product-list"),t.qZA(),t.TgZ(3,"div",2),t._UZ(4,"cart-list"),t.qZA(),t.qZA())},directives:[m,y],encapsulation:2}),e})()},{path:"checkout",component:(()=>{class e{constructor(r){this.data=r,this.title="Confirm Order"}onCheckout(){alert("Doing checkout")}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(d))},e.\u0275cmp=t.Xpm({type:e,selectors:[["checkout"]],decls:46,vars:12,consts:[[1,"card","card-fuchsia"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"table","table-bordered","table-hover"],[1,"text-center"],[1,"text-right"],[4,"ngFor","ngForOf"],[1,"col-md-3","offset-md-9"],[1,"table","table-condensed"],[1,"card-footer"],[1,"float-right"],[1,"btn","btn-success",3,"click"],["routerLink","/",1,"btn","btn-info"],["alt","o.productTitle",1,"img-thumbnail","checkout-thumb",3,"src"]],template:function(r,o){1&r&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h3",2),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"div",3),t.TgZ(5,"table",4),t.TgZ(6,"thead"),t.TgZ(7,"tr"),t.TgZ(8,"th",5),t._uU(9,"Product"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Description"),t.qZA(),t.TgZ(12,"th",5),t._uU(13,"#"),t.qZA(),t.TgZ(14,"th",6),t._uU(15,"$"),t.qZA(),t.TgZ(16,"th",6),t._uU(17,"Total"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"tbody"),t.YNc(19,x,13,16,"tr",7),t.qZA(),t.qZA(),t.TgZ(20,"div",8),t.TgZ(21,"table",9),t.TgZ(22,"tr"),t.TgZ(23,"td",6),t._uU(24,"Sub Total"),t.qZA(),t.TgZ(25,"td",6),t._uU(26),t.ALo(27,"currency"),t.qZA(),t.qZA(),t.TgZ(28,"tr"),t.TgZ(29,"td",6),t._uU(30,"Shipping"),t.qZA(),t.TgZ(31,"td",6),t._uU(32,"$ 0.00"),t.qZA(),t.qZA(),t.TgZ(33,"tr"),t.TgZ(34,"td",6),t._uU(35,"Total:"),t.qZA(),t.TgZ(36,"td",6),t._uU(37),t.ALo(38,"currency"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(39,"div",10),t.TgZ(40,"div",11),t.TgZ(41,"button",12),t.NdJ("click",function(){return o.onCheckout()}),t._uU(42,"Complete Purchase"),t.qZA(),t._uU(43,"\xa0 "),t.TgZ(44,"a",13),t._uU(45,"Cancel"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&r&&(t.xp6(3),t.Oqu(o.title),t.xp6(16),t.Q6J("ngForOf",o.data.order.items),t.xp6(7),t.Oqu(t.Dn7(27,4,o.data.order.subTotal,"USD",!0)),t.xp6(11),t.Oqu(t.Dn7(38,8,o.data.order.subTotal,"USD",!0)))},directives:[u.sg,s.yS],pipes:[u.H9],styles:[".checkout-thumb[_ngcontent-%COMP%]{max-width:100px}"]}),e})()}],O=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e,bootstrap:[T]}),e.\u0275inj=t.cJS({providers:[d],imports:[[n.b2,l.JF,s.Bz.forRoot(C,{useHash:!0,enableTracing:!1})]]}),e})();(0,t.G48)(),n.q6().bootstrapModule(O).catch(e=>console.error(e))}},a=>{a.O(0,["vendor"],()=>a(a.s=938)),a.O()}]);